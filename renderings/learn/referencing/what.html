<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css"> <style id="jtd-nav-activation"> .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external) > .nav-list-link, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external) > .nav-list > .nav-list-item:not(:nth-child(2)) > .nav-list-link, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external) > .nav-list > .nav-list-item > .nav-list > .nav-list-item > .nav-list-link { background-image: none; } .site-nav > .nav-list:not(:nth-child(1):not(.nav-category-list)) .nav-list-link, .site-nav .nav-list-link.external { background-image: none; } .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external):nth-child(6) > .nav-list > .nav-list-item:nth-child(2) > .nav-list-link { font-weight: 600; text-decoration: none; } .site-nav > .nav-category-list > .nav-list-item > .nav-list-expander svg, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(6) > .nav-list-expander svg, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(6) > .nav-list > .nav-list-item:nth-child(2) > .nav-list-expander svg { transform: rotate(-90deg); } .site-nav > .nav-category-list > .nav-list-item > .nav-list, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(6) > .nav-list, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(6) > .nav-list > .nav-list-item:nth-child(2) > .nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>What Are References? | OpenAPI Documentation</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="What Are References?" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="For API designers and writers wishing formalize their API in an OpenAPI Description document." /> <meta property="og:description" content="For API designers and writers wishing formalize their API in an OpenAPI Description document." /> <link rel="canonical" href="http://handrews.github.io/renderings/learn/referencing/what.html" /> <meta property="og:url" content="http://handrews.github.io/renderings/learn/referencing/what.html" /> <meta property="og:site_name" content="OpenAPI Documentation" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="What Are References?" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"For API designers and writers wishing formalize their API in an OpenAPI Description document.","headline":"What Are References?","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://handrews.github.io/renderings/learn/assets/images/OpenAPI_Logo_Pantone-1.png"}},"url":"http://handrews.github.io/renderings/learn/referencing/what.html"}</script> <!-- End Jekyll SEO tag --> <base target="_top"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css" /> <style>.github-fork-ribbon:before { background-color: #1d781d; }</style> <a class="github-fork-ribbon" href="https://github.com/OAI/Documentation" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="OpenAPI Documentation"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="/introduction.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item"><a href="/definitions.html" class="nav-list-link">Definitions</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in The OpenAPI Specification Explained category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/specification/" class="nav-list-link">The OpenAPI Specification Explained</a><ul class="nav-list"><li class="nav-list-item"><a href="/specification/structure.html" class="nav-list-link">Structure of an OpenAPI Document</a></li><li class="nav-list-item"><a href="/specification/paths.html" class="nav-list-link">API Endpoints</a></li><li class="nav-list-item"><a href="/specification/content.html" class="nav-list-link">Content of Message Bodies</a></li><li class="nav-list-item"><a href="/specification/parameters.html" class="nav-list-link">Parameters and Payload of an Operation</a></li><li class="nav-list-item"><a href="/specification/components.html" class="nav-list-link">Reusing Description</a></li><li class="nav-list-item"><a href="/specification/docs.html" class="nav-list-link">Providing Documentation and Examples</a></li><li class="nav-list-item"><a href="/specification/servers.html" class="nav-list-link">API Servers</a></li></ul></li><li class="nav-list-item"><a href="/best-practices.html" class="nav-list-link">Best Practices</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Using References category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/referencing/" class="nav-list-link">Using References</a><ul class="nav-list"><li class="nav-list-item"><a href="/referencing/faq.html" class="nav-list-link">Referencing FAQ</a></li><li class="nav-list-item"><a href="/referencing/what.html" class="nav-list-link">What Are References?</a></li><li class="nav-list-item"><a href="/referencing/resolving.html" class="nav-list-link">Resolving References</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search OpenAPI Documentation" aria-label="Search OpenAPI Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/referencing/">Using References</a></li> <li class="breadcrumb-nav-list-item"><span>What Are References?</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="what-are-references"> <a href="#what-are-references" class="anchor-heading" aria-labelledby="what-are-references"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What are references? </h1> <p>A <em>reference</em> is a keyword and value that identifies a <em>reference target</em> with a URI. In some cases, this URI can be treated as a URL and de-referenced directly. In other cases, as we will see in the <a href="resolving">resolving references</a> guide, it is helpful to separate the target’s <em>identity</em> from its <em>location</em>.</p> <p>External references are how multiple documents are linked into an OAD. This means that referencing impacts how other linkages, such as those that use Components Object names, or values such as <code class="language-plaintext highlighter-rouge">operationId</code> in the Path Item Object, work. These other linkages can only work if the document (or with many tools, the specific JSON object) containing the name or other identifier has been referenced.</p> <h2 id="a-taxonomy-of-references"> <a href="#a-taxonomy-of-references" class="anchor-heading" aria-labelledby="a-taxonomy-of-references"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> A taxonomy of references </h2> <p>References exist in several variations in the OpenAPI Specification (OAS) versions 3.0 and 3.1, as shown in the following table. Note that an <em>adjacent keyword</em> is a keyword in the same JSON Object (whether it is written in JSON or YAML) as the reference keyword.</p> <div class="table-wrapper"><table> <thead> <tr> <th>OAS Version</th> <th>Object</th> <th>Reference Keyword</th> <th>Adjacent Keywords</th> <th>Behavior</th> </tr> </thead> <tbody> <tr> <td>3.0</td> <td>Reference Object</td> <td><code class="language-plaintext highlighter-rouge">"$ref"</code></td> <td>ignored</td> <td>logically replace the Reference Object with the reference target</td> </tr> <tr> <td>3.1</td> <td>Reference Object</td> <td><code class="language-plaintext highlighter-rouge">"$ref"</code></td> <td><code class="language-plaintext highlighter-rouge">"summary"</code> and <code class="language-plaintext highlighter-rouge">"description"</code> allowed; others ignored</td> <td>logically replace the Reference Object with a coply of the target, overwriting the target’s <code class="language-plaintext highlighter-rouge">"summary"</code> and/or <code class="language-plaintext highlighter-rouge">"description"</code> fields with those of the Reference Object if they are present</td> </tr> <tr> <td>3.x</td> <td>Path Item Object</td> <td><code class="language-plaintext highlighter-rouge">"$ref"</code></td> <td>allowed under some circumstances</td> <td>logically replace the Path Item Object containing the <code class="language-plaintext highlighter-rouge">"$ref"</code> with a Path Item Object that combines the fields of the target Path Item Object with the non-<code class="language-plaintext highlighter-rouge">"$ref"</code> fields of the Path Item Object containing the <code class="language-plaintext highlighter-rouge">"$ref"</code>, as long as none of those fields conflict</td> </tr> <tr> <td>3.1</td> <td>Schema Object</td> <td><code class="language-plaintext highlighter-rouge">"$ref"</code></td> <td>allowed</td> <td>Apply the target Schema Object to the same instance location as the Schema Object containing the <code class="language-plaintext highlighter-rouge">"$ref"</code>, and combine the results with the results of other keywords in the Schema Object containing the <code class="language-plaintext highlighter-rouge">"$ref"</code> just as you would any other keyword results; this is more-or-less equivalent to using a one-element <code class="language-plaintext highlighter-rouge">"allOf"</code></td> </tr> <tr> <td>3.x</td> <td>Link Object</td> <td><code class="language-plaintext highlighter-rouge">"operationRef"</code></td> <td>allowed, except <code class="language-plaintext highlighter-rouge">"operationId"</code></td> <td>Treat the reference target as the target of the link described by the Link Object</td> </tr> <tr> <td>3.x</td> <td>Descriminator Object</td> <td><code class="language-plaintext highlighter-rouge">"mapping"</code></td> <td>n/a</td> <td>for each name under <code class="language-plaintext highlighter-rouge">"mapping"</code>, if the value is not the name of a Schema Object under the Components Object, treat it as a reference to the schema to use when the discriminator field matches the mapping name</td> </tr> </tbody> </table></div> <p>Note that not all references are handled by replacing the source with the target. Some are defined in terms of behavior, and <strong>cannot</strong> be replaced with an inline value.</p> <h3 id="uris-urls-and-uri-references"> <a href="#uris-urls-and-uri-references" class="anchor-heading" aria-labelledby="uris-urls-and-uri-references"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> URIs, URLs, and URI-references </h3> <p>All of the above keywords take a <em><a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-4.1">URI-reference</a></em> as a value, which can be either a <em><a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-3">URI</a></em> (which MUST include a <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-3.1">scheme</a>) or a <em><a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-4.2">relative reference</a></em>, which must be resolved against a <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-5.1">base URI</a> to produce a full URI. In this guide, the term <strong><em>URI-reference resolution</em></strong> is always used for the process of resolving a URI-reference against a base URI.</p> <p>Somewhat confusingly, the OAS uses the the terms “URI” and “URL” to mean “URI or URI-reference” and “URL or URL-reference”, respectively. In this guide, whenever a reference’s “URI” is mentioned, it is always refers to the proper URI after any necessary URI-reference resolution has been performed.</p> <p>Also, in this guide the term “reference” alone <em>always</em> means reference as defined in the table above, and the words “resolve”, “resolved”, and “resolution” on their own <em>always</em> refer to the OAS-defined process that occurs <em>after</em> URI-reference resolution.</p> <h2 id="non-reference-linkages"> <a href="#non-reference-linkages" class="anchor-heading" aria-labelledby="non-reference-linkages"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Non-reference linkages </h2> <p>The following connections between parts of the OAS require that some name or identifier has been seen. Due to ambiguities in the specification (which the OAI will hopefully be able to clarify in future patch releases), it is not always clear how to handle identifiers that are present in a <em>document</em> that has been referenced, but are not present in the <em>exact JSON object</em> targeted by any single reference.</p> <p>Note that some of the identifiers are not in objects that can be referenced, but are included for completeness.</p> <div class="table-wrapper"><table> <thead> <tr> <th>OAS Version</th> <th>Identifying Object</th> <th>Identifying Field</th> <th>Object of Identifier Use</th> </tr> </thead> <tbody> <tr> <td>3.x</td> <td>Components Object</td> <td>Schema name</td> <td>Discriminator Object</td> </tr> <tr> <td>3.x</td> <td>Components Object</td> <td>Security Scheme name</td> <td>Security Requirement Object</td> </tr> <tr> <td>3.x</td> <td>Tag Object</td> <td><code class="language-plaintext highlighter-rouge">name</code></td> <td>Operation Object</td> </tr> <tr> <td>3.x</td> <td>Operation Object</td> <td><code class="language-plaintext highlighter-rouge">operationId</code></td> <td>Link Object</td> </tr> <tr> <td>3.x</td> <td>Server Object</td> <td>n/a</td> <td>Paths Object</td> </tr> </tbody> </table></div> <h2 id="json-schema-referencing-and-identification-in-oas-31"> <a href="#json-schema-referencing-and-identification-in-oas-31" class="anchor-heading" aria-labelledby="json-schema-referencing-and-identification-in-oas-31"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> JSON Schema referencing and identification in OAS 3.1 </h2> <p>In OAS 3.1, JSON Schema combines some of the concerns of referencing and non-reference linkage. This is because in JSON Schema draft 2020-12 as included in OAS 3.1, the dialect can be set within the OAD, or through the <code class="language-plaintext highlighter-rouge">"$schema"</code> keyword in a parent Schema Object. Schemas can also be referenced by URIs declared in-schema by certain keywords. These can be URIs that cannot be used as URLs as they are not hosted separately from the containing document, or plain-name fragments that, unlike JSON Pointer fragments, can only be resolved if their delcaring keyword has been parsed.</p> <div class="table-wrapper"><table> <thead> <tr> <th>Identifier Purpose</th> <th>Identifying Object</th> <th>Identifying Field</th> </tr> </thead> <tbody> <tr> <td>dialect id</td> <td>OpenAPI Object</td> <td><code class="language-plaintext highlighter-rouge">jsonSchemaDialect</code></td> </tr> <tr> <td>dialect id</td> <td>Schema Object</td> <td><code class="language-plaintext highlighter-rouge">$schema</code></td> </tr> <tr> <td>static reference target</td> <td>Schema Object</td> <td><code class="language-plaintext highlighter-rouge">$id</code></td> </tr> <tr> <td>static reference target</td> <td>Schema Object</td> <td><code class="language-plaintext highlighter-rouge">$anchor</code></td> </tr> <tr> <td>dynamic reference target</td> <td>Schema Object</td> <td><code class="language-plaintext highlighter-rouge">$dynamicAnchor</code></td> </tr> </tbody> </table></div> </main> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">© 2023 OpenAPI Initiative. <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. The documentation is maintained in <a href="https://github.com/OAI/Documentation/">https://github.com/OAI/Documentation/</a>.</p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
