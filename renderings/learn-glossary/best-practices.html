<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="./assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="./assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(5)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(5) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(5) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="./favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Best Practices | OpenAPI Documentation</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Best Practices" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="For API designers and writers wishing formalize their API in an OpenAPI Description document." /> <meta property="og:description" content="For API designers and writers wishing formalize their API in an OpenAPI Description document." /> <meta property="og:site_name" content="OpenAPI Documentation" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Best Practices" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"For API designers and writers wishing formalize their API in an OpenAPI Description document.","headline":"Best Practices","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/assets/images/OpenAPI_Logo_Pantone-1.png"}},"url":"/best-practices.html"}</script> <!-- End Jekyll SEO tag --> <base target="_top"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css" /> <style>.github-fork-ribbon:before { background-color: #1d781d; }</style> <a class="github-fork-ribbon" href="https://github.com/OAI/Documentation" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="./" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="OpenAPI Documentation"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="./" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="./introduction.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item"><a href="./glossary.html" class="nav-list-link">Glossary</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in The OpenAPI Specification Explained category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="./specification/" class="nav-list-link">The OpenAPI Specification Explained</a><ul class="nav-list"><li class="nav-list-item"><a href="./specification/structure.html" class="nav-list-link">Structure of an OpenAPI Description</a></li><li class="nav-list-item"><a href="./specification/paths.html" class="nav-list-link">API Endpoints</a></li><li class="nav-list-item"><a href="./specification/content.html" class="nav-list-link">Content of Message Bodies</a></li><li class="nav-list-item"><a href="./specification/parameters.html" class="nav-list-link">Parameters and Payload of an Operation</a></li><li class="nav-list-item"><a href="./specification/components.html" class="nav-list-link">Reusing Description</a></li><li class="nav-list-item"><a href="./specification/docs.html" class="nav-list-link">Providing Documentation and Examples</a></li><li class="nav-list-item"><a href="./specification/servers.html" class="nav-list-link">API Servers</a></li></ul></li><li class="nav-list-item"><a href="./best-practices.html" class="nav-list-link">Best Practices</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search OpenAPI Documentation" aria-label="Search OpenAPI Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="best-practices"> <a href="#best-practices" class="anchor-heading" aria-labelledby="best-practices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Best Practices </h1> <p>This page contains general pieces of advice which do not strictly belong to the <a href="specification">Specification Explained</a> chapter because they are not directly tied to the OpenAPI Specification (OAS).</p> <p>However, they greatly simplify creating and maintaining OpenAPI Descriptions (OADs), so they are worth keeping in mind.</p> <h2 id="use-a-design-first-approach"> <a href="#use-a-design-first-approach" class="anchor-heading" aria-labelledby="use-a-design-first-approach"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Use a Design-First Approach </h2> <p>Traditionally, two main approaches exist when creating OADs: <strong>Code-first</strong> and <strong>Design-first</strong>.</p> <ul> <li> <p>In the Code-first approach, <strong>the API is first implemented in code</strong>, and then its description is created from it, using code comments, code annotations or simply written from scratch. This approach does not require developers to learn another language so it is usually regarded as the easiest one.</p> </li> <li> <p>Conversely, in Design-first, <strong>the API description is written first</strong> and then the code follows. The first obvious advantages are that the code already has a skeleton upon which to build, and that some tools can provide boilerplate code automatically.</p> </li> </ul> <p>There have been a number of heated debates over the relative merits of these two approaches but, in the opinion of the OpenAPI Initiative (OAI), the importance of using <strong>Design-first</strong> cannot be stressed strongly enough.</p> <p>The reason is simple: <strong>The number of APIs that can be created in code is far superior to what can be described in OpenAPI</strong>. To emphasize: <strong>OpenAPI is not capable of describing every possible HTTP API, it has limitations</strong>.</p> <p>Therefore, unless these descriptive limitations are perfectly known and taken into account when coding the API, they will rear their ugly head later on when trying to create an OpenAPI description for it. At that point, the right fix will be to change the code so that it uses an API which can be actually described with OpenAPI (or switch to Design-first altogether).</p> <p>Sometimes, however, since it is late in the process, it will be preferred to twist the API description so that it matches <em>more or less</em> the actual API. It goes without saying that this leads to <strong>unintuitive and incomplete descriptions</strong>, that will rarely scale in the future.</p> <p>Finally, there exist a number of <a href="https://tools.openapis.org/categories/data-validators">validation tools</a> that can verify that the implemented code adheres to the OpenAPI description. Running these tools as part of a Continuous Integration process allows changing the OpenAPI Description with peace of mind, since deviations in the code behavior will be promptly detected.</p> <blockquote> <p><strong>Bottom line:</strong> OpenAPI opens the door to a <a href="https://tools.openapis.org">wealth of automated tools</a>. Make sure you use them!</p> </blockquote> <h2 id="keep-a-single-source-of-truth"> <a href="#keep-a-single-source-of-truth" class="anchor-heading" aria-labelledby="keep-a-single-source-of-truth"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Keep a Single Source of Truth </h2> <p>Regardless of your design approach (design-first or code-first) always keep a single source of truth, i.e., information should <strong>not</strong> be duplicated in different places. It is really the same concept used in programming, where repeated code should be moved to a common function.</p> <p>Otherwise, eventually one of the places will be updated while the other won’t, leading to headaches… in the best of cases.</p> <p>For instance, it is also commonplace to use code annotations to generate an OpenAPI description and then commit the latter to source control while the former still lingers in the code. As a result, newcomers to the project will not know which one is actually in use and mistakes will be made.</p> <p>Alternatively, you can use a Continuous Integration test to ensure that the two sources stay consistent.</p> <h2 id="add-openapi-descriptions-to-source-control"> <a href="#add-openapi-descriptions-to-source-control" class="anchor-heading" aria-labelledby="add-openapi-descriptions-to-source-control"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add OpenAPI Descriptions to Source Control </h2> <p>OpenAPI Descriptions are <strong>not</strong> just a documentation artifact: they are <strong>first-class source files</strong> which can drive a great number of automated processes, including boilerplate generation, unit testing and documentation rendering.</p> <p>As such, OADs should be committed to source control, and, in fact, they should be among the first files to be committed. From there, they should also participate in Continuous Integration processes.</p> <h2 id="make-the-openapi-descriptions-available-to-the-users"> <a href="#make-the-openapi-descriptions-available-to-the-users" class="anchor-heading" aria-labelledby="make-the-openapi-descriptions-available-to-the-users"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Make the OpenAPI Descriptions Available to the Users </h2> <p>Beautifully-rendered documentation can be very useful for the users of an API, but sometimes they might want to access the source OAD. For instance, to use tools to generate client code for them, or to build automated bindings for some language.</p> <p>Therefore, making the OAD available to the users is an added bonus for them. The documents that make up the OAD can even be made available through the same API to allow runtime discovery.</p> <h2 id="there-is-seldom-need-to-write-openapi-descriptions-by-hand"> <a href="#there-is-seldom-need-to-write-openapi-descriptions-by-hand" class="anchor-heading" aria-labelledby="there-is-seldom-need-to-write-openapi-descriptions-by-hand"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> There is Seldom Need to Write OpenAPI Descriptions by Hand </h2> <p>Since OADs are plain text documents, in an easy-to-read format (be it JSON or YAML), API designers are usually tempted to write them by hand.</p> <p>While there is nothing stopping you from doing this, and, in fact, hand-written API descriptions are usually the most terse and efficient, approaching any big project by such method is highly impractical.</p> <p>Instead, you should try the other existing creation methods and choose the one that better suits you and your team (No YAML or JSON knowledge needed!):</p> <ul> <li> <p><strong>OpenAPI Editors</strong>: Be it <a href="https://tools.openapis.org/categories/text-editors">text editors</a> or <a href="https://tools.openapis.org/categories/gui-editors">GUI editors</a> they usually take care of repetitive tasks, allow you to keep a library of reusable components and provide real-time preview of the generated documentation.</p> </li> <li> <p><strong>Domain-Specific Languages</strong>: As its name indicates, <a href="https://tools.openapis.org/categories/dsl">DSL</a>’s are API description languages tailored to specific development fields. A tool is then used to produce the OpenAPI Description. A new language has to be learned, but, in return, extremely concise descriptions can be achieved.</p> </li> <li> <p><strong>Code Annotations</strong>: Most programming languages allow you to <em>annotate</em> the code, be it with specific syntax or with general code comments. These annotations, for example, can be used to extend a method signature with information regarding the API endpoint and HTTP method that lead to it. A tool can then parse the code annotations and generate OADs automatically. This method fits very nicely with the code-first approach, so keep in mind the first advice given at the top of this page when using it (Use a Design-First Approach)…</p> </li> <li> <p><strong>A Mix of All the Above</strong>: It’s perfectly possible to create the bulk of an OpenAPI Description using an editor or DSL and then hand-tune the resulting file. Just be aware of the second advice above (Keep a Single Source of Truth): Once you modify a file <strong>it becomes the source of truth</strong> and the previous one should be discarded (maybe keep it as backup, but out of the sight and reach of children and newcomers to the project).</p> </li> </ul> <h2 id="describing-large-apis"> <a href="#describing-large-apis" class="anchor-heading" aria-labelledby="describing-large-apis"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Describing Large APIs </h2> <p>This is a collection of small hints related to working with large OADs.</p> <ul> <li> <p><strong>Do not repeat yourself</strong> (The DRY principle). If the same piece of YAML or JSON appears more than once in the document, it’s time to move it to the <code class="language-plaintext highlighter-rouge">components</code> section and reference it from other places using <code class="language-plaintext highlighter-rouge">$ref</code> (See <a href="specification/components">Reusing Descriptions</a>. Not only will the resulting document be smaller but it will also be much easier to maintain).</p> <p>Components can be referenced from other documents, so you can even reuse them across different API descriptions!</p> </li> <li> <p><strong>Split the description into several documents</strong>: Smaller files are easier to navigate, but too many of them are equally taxing. The key lies somewhere in the middle.</p> <p>A good rule of thumb is to use the natural hierarchy present in URLs to build your directory structure. For example, put all routes starting with <code class="language-plaintext highlighter-rouge">/users</code> (like <code class="language-plaintext highlighter-rouge">/users</code> and <code class="language-plaintext highlighter-rouge">/users/{id}</code>) in the same file (think of it as a “sub-API”).</p> <p>Bear in mind that some tools might have issues with large files, whereas some other tools might not handle too many files gracefully. The solution will have to take your toolkit into account.</p> </li> <li> <p><strong>Use tags to keep things organized</strong>: <a href="https://spec.openapis.org/oas/v3.1.0#oasTags">Tags</a> have not been described in the Specification chapter, but they can help you arrange your operations and find them faster. A tag is simply a piece of metadata (a unique name and an optional description) that you can attach to <a href="specification/paths">operations</a>. Tools, specially <a href="https://tools.openapis.org/categories/gui-editors">GUI editors</a>, can then sort all your API’s operation by their tags to help you keep them organized.</p> </li> </ul> <h2 id="links-to-external-best-practices"> <a href="#links-to-external-best-practices" class="anchor-heading" aria-labelledby="links-to-external-best-practices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Links to External Best Practices </h2> <p>There’s quite a bit of literature about how to organize your API more efficiently. Make sure you check out how other people solved the same issues you are facing now!</p> <p>For example:</p> <ul> <li>The <a href="http://apistylebook.com/design/guidelines/">API Stylebook</a> contains internal API Design Guidelines shared with the community by some well known companies and government agencies.</li> </ul> </main> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">© 2023 OpenAPI Initiative. <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. The documentation is maintained in <a href="https://github.com/OAI/Documentation/">https://github.com/OAI/Documentation/</a>.</p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
